CONTRACT_TYPE
{
	name = SCAN_Significant
	title = Do a group of SCANsat surveys of @/targetBodyValid2.
	genericTitle = Do a group of SCANsat surveys of @/targetBodyValid2.
	group = ScanSatOfficial
	topic = Science
	subject = Kerbal
	agent = SCAN: Scientific Committee on Advanced Navigation
	notes = Scanning can take place while the vessel is not loaded.
	synopsis = Perform several scans of @/targetBodyValid2
	completedMessage = Excellent work, these scans will provide much valuable data for our survey teams.
	minExpiry = 1
	maxExpiry = 7
	deadline = Random(300, 500) * @/targetBodyValid2.Multiplier()
	cancellable = true
	declinable = true
	autoAccept = false
	targetBody = @/targetBodyValid2
		
	// Contract rewards
	rewardScience = 0
	rewardReputation = 1
	rewardFunds = Random(50000, 70000.0)
	failureReputation = 1
	failureFunds = Random(1000, 10000.0)
	advanceFunds = Random(5000, 15000.0)
	prestige = Significant
	
    DATA_EXPAND
	{
		type = CelestialBody
		targetBody2 = @ScanSatOfficial:nonHomeBodies
	}
	
	DATA
	{
		type = CelestialBody
		requiredValue = true
		uniquenessCheck = CONTRACT_ALL
		targetBodyValid2 = @/targetBody2
	}
	
	DATA
	{
		type = List<CelestialBody>
		requiredValue = false
		targetBodyList2 = @ScanSatOfficial:p2Bodies
	}

	PARAMETER
	{
		name = SCANsatCoverage_1
		type = SCANsatCoverage
		targetBody = @/targetBodyValid2
		coverage = 85
		scanType = AltimetryLoRes
	}
	PARAMETER
	{
		name = SCANsatCoverage_2
		type = SCANsatCoverage
		targetBody = @/targetBodyValid2
		coverage = 85
		scanType = Biome
	}
	PARAMETER
	{
		name = SCANsatCoverage_3
		type = SCANsatCoverage
		targetBody = @/targetBodyValid2
		coverage = 85
		scanType = FuzzyResources
	}
	REQUIREMENT
	{
		name = AnyCoverage
		type = Any
		
		REQUIREMENT
		{
			name = SCANsatCoverage_1
			type = SCANsatCoverage
			targetBody = @/targetBodyValid2
			minCoverage = 0.0
			maxCoverage = 80
			scanType = AltimetryLoRes
			title = Must have less than an 80% low resolution altimetry scan of the target body.
		}
		REQUIREMENT
		{
			name = SCANsatCoverage_2
			type = SCANsatCoverage
			targetBody = @/targetBodyValid2
			minCoverage = 0.0
			maxCoverage = 80
			scanType = Biome
			title = Must have less than an 80% biome scan of the target body.
		}
		REQUIREMENT
		{
			name = SCANsatCoverage_3
			type = SCANsatCoverage
			targetBody = @/targetBodyValid2
			minCoverage = 0.0
			maxCoverage = 80
			scanType = FuzzyResources
			title = Must have less than an 80% M700 resources scan of the target body.
		}
	}
	REQUIREMENT
	{
		name = Expression_1
		type = Expression
		title = Must have orbited the target body.
		expression = @/targetBodyList2.Contains(@/targetBodyValid2) == true
	}
	REQUIREMENT
	{
		name = Orbit
		type = Orbit

		targetBody = HomeWorld()
	}
	REQUIREMENT
	{
		name = PartUnlocked_1
		type = PartUnlocked
		part = SCANsat_Scanner
	}
	REQUIREMENT
	{
		name = PartUnlocked_2
		type = PartUnlocked
		part = SCANsat_Scanner24
	}
	REQUIREMENT
	{
		name = PartUnlocked_3
		type = PartUnlocked
		part = SurveyScanner
	}
}